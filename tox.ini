[flake8]
exclude = *.venv*, *.tox*, build/*
max_line_length = 80

[tox]
env_list =
    format
    flake8
    py311
minversion = 4.2.8

[testenv]
description = run the tests with pytest
package = wheel
wheel_build_env = .pkg
deps =
    pytest>=6
commands =
    pytest {tty:--color=yes} {posargs}

[testenv:format]
description = install black in a virtual environment and invoke it on the current folder
deps =
    black[jupyter]
    isort
skip_install = true
commands =
    black --check --diff .
    isort --check-only --diff .

[testenv:py311]
description = install pytest in a virtual environment and invoke it on the tests folder
deps =
    pytest>=7
    pytest-sugar
commands = pytest tests {posargs}

[testenv:flake8]
skip_install = True
deps=
    flake8
    flake8-docstrings
    flake8-bugbear
commands=
    flake8 .